<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NHADIDAS DATA BUNDLE BASE</title>

<style>
body{font-family:Arial;background:#f4f6f8;margin:0}
header{background:#000;color:#fff;padding:15px;text-align:center}
.container{max-width:500px;margin:auto;padding:15px}
button{padding:12px;border:none;border-radius:8px;font-weight:bold}
.btn{background:#000;color:#fff;width:100%}
input,select{width:100%;padding:10px;margin:5px 0}
.networks{display:flex;gap:5px;margin-bottom:10px}
.net{flex:1;padding:10px;background:#fff;text-align:center;border-radius:6px;cursor:pointer;opacity:.5}
.net.active{opacity:1;border:2px solid #ffcc00}
.price{background:#fffbe6;padding:10px;text-align:center;margin:10px 0;border-radius:6px}
.admin{display:none}
table{width:100%;border-collapse:collapse;font-size:12px;margin-top:10px}
td,th{border:1px solid #ccc;padding:6px}
th{background:#eee}
.float-wa{
  position:fixed;bottom:20px;right:20px;
  background:#25D366;color:#fff;
  padding:15px;border-radius:50%;
  font-size:22px;text-decoration:none
}
</style>
</head>

<body>

<header>
<h2>NHADIDAS DATA BUNDLE BASE</h2>
<p>Fast ‚Ä¢ Affordable ‚Ä¢ Reliable</p>
</header>

<!-- CUSTOMER AREA -->
<div class="container user">

<div class="networks">
<div class="net active" onclick="setNet('mtn',this)">MTN</div>
<div class="net" onclick="setNet('telecel',this)">Telecel</div>
<div class="net" onclick="setNet('at',this)">AT</div>
</div>

<label>Select Bundle</label>
<select id="bundle" onchange="updatePrice()"></select>

<label>Recipient Number</label>
<input id="phone" placeholder="024XXXXXXX" maxlength="10">

<div class="price">
<h3 id="amount">GH‚Çµ 0.00</h3>
</div>

<button class="btn" onclick="order()">Buy via WhatsApp</button>

</div>

<!-- ADMIN DASHBOARD -->
<div class="container admin" id="adminPanel">
<h3>Admin Dashboard</h3>

<table>
<thead>
<tr>
<th>Time</th>
<th>Network</th>
<th>Bundle</th>
<th>Amount</th>
<th>Referral</th>
<th>Commission</th>
</tr>
</thead>
<tbody id="orderList"></tbody>
</table>

<button onclick="clearOrders()" style="background:red;color:#fff;margin-top:10px">
Clear Orders
</button>
</div>

<a class="float-wa" id="floatWA">üí¨</a>

<!-- HIDDEN ADMIN BUTTON -->
<div id="adminBtn" style="
  position: fixed;
  bottom: 10px;
  left: 10px;
  width: 30px;
  height: 30px;
  background: #ffcc00;
  border-radius: 50%;
  text-align: center;
  line-height: 30px;
  cursor: pointer;
  font-weight: bold;
  z-index: 9999;
" title="Admin Access">‚öôÔ∏è</div>

<script>
/* ================= CONFIG ================= */
const MY_WHATSAPP = "233549399614";   // 0549399614
const ADMIN_PIN = "2019";
const COMMISSION_PER_ORDER = 0.1;

/* PAYMENT NUMBERS */
const PAYMENTS = {
  mtn:{name:"MTN MoMo",number:"0549399614"},
  telecel:{name:"Telecel Cash",number:"0503686637"},
  at:{name:"AT Money",number:"0260000000"}
};

/* DATA BUNDLES */
const BUNDLES = {
  mtn:[{n:"1GB",p:6},{n:"5GB",p:30}],
  telecel:[{n:"3GB",p:10},{n:"10GB",p:30}],
  at:[{n:"5GB",p:11},{n:"10GB",p:20}]
};

let currentNet="mtn";

/* SAVE REFERRAL */
const params=new URLSearchParams(window.location.search);
if(params.get("ref")){
  localStorage.setItem("referrer",params.get("ref"));
}

/* INIT */
window.onload=()=>{
  document.getElementById("floatWA").href=`https://wa.me/${MY_WHATSAPP}`;
  loadBundles();
};

/* NETWORK SWITCH */
function setNet(net,el){
  currentNet=net;
  document.querySelectorAll(".net").forEach(n=>n.classList.remove("active"));
  el.classList.add("active");
  loadBundles();
}

/* LOAD BUNDLES */
function loadBundles(){
  const s=document.getElementById("bundle");
  s.innerHTML=BUNDLES[currentNet]
    .map((b,i)=>`<option value="${i}">${b.n} - GH‚Çµ${b.p}</option>`)
    .join("");
  updatePrice();
}

function updatePrice(){
  const i=document.getElementById("bundle").value;
  document.getElementById("amount").innerText=
    "GH‚Çµ "+BUNDLES[currentNet][i].p;
}

/* ORDER */
function order(){
  const phone=document.getElementById("phone").value;
  if(phone.length<10)return alert("Enter valid number");

  const i=document.getElementById("bundle").value;
  const bundle=BUNDLES[currentNet][i];
  const ref=localStorage.getItem("referrer")||"None";
  const commission=ref!=="None"?COMMISSION_PER_ORDER:0;

  const record={
    time:new Date().toLocaleString(),
    net:currentNet,
    bundle:bundle.n,
    amount:bundle.p,
    ref:ref,
    commission:commission
  };

  const orders=JSON.parse(localStorage.getItem("orders")||"[]");
  orders.push(record);
  localStorage.setItem("orders",JSON.stringify(orders));

  const pay=PAYMENTS[currentNet];
  const refCode="ND"+Math.floor(Math.random()*900000+100000);

  const msg=`NEW DATA ORDER
Network: ${currentNet.toUpperCase()}
Bundle: ${bundle.n}
Recipient: ${phone}
Amount: GH‚Çµ${bundle.p}

Pay via: ${pay.name}
Pay to: ${pay.number}
Referral: ${ref}
Payment Ref: ${refCode}

Please attach payment screenshot`;

  window.open(`https://wa.me/${MY_WHATSAPP}?text=${encodeURIComponent(msg)}`);
}

/* ADMIN BUTTON */
document.getElementById("adminBtn").onclick = function() {
  const pin = prompt("Enter Admin PIN:");
  if(pin === ADMIN_PIN){
    document.querySelector(".user").style.display = "none";
    document.querySelector(".admin").style.display = "block";
    loadOrders();
  } else alert("Access Denied!");
};

/* ADMIN FUNCTIONS */
function loadOrders(){
  const list=document.getElementById("orderList");
  const orders=JSON.parse(localStorage.getItem("orders")||"[]");
  list.innerHTML="";
  orders.forEach(o=>{
    list.innerHTML+=`
    <tr>
      <td>${o.time}</td>
      <td>${o.net}</td>
      <td>${o.bundle}</td>
      <td>GH‚Çµ${o.amount}</td>
      <td>${o.ref}</td>
      <td>GH‚Çµ${o.commission}</td>
    </tr>`;
  });
}

function clearOrders(){
  if(confirm("Clear all orders?")){
    localStorage.removeItem("orders");
    loadOrders();
  }
}
</script>

</body>
</html>
